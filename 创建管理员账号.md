# 创建管理员账号指南

## 📌 问题说明
管理员登录失败是因为数据库中还没有管理员账号。需要先创建管理员账号才能登录。

## ✅ 解决方法（三选一）

### 方法1：使用网页创建（最简单）

1. **打开创建管理员页面**
   ```
   file:///e:/idea-workspace/aiqimozuoye-1/frontend-html/init-admin.html
   ```
   或者用本地服务器访问：
   ```
   http://localhost:8000/init-admin.html
   ```

2. **填写管理员信息**
   - 用户名：`admin`
   - 密码：`admin123`
   - 角色：选择"管理员"

3. **点击"创建管理员账号"**
   - 看到成功提示后，就可以使用这个账号登录了

4. **前往登录**
   ```
   http://localhost:8000/login.html?role=admin
   ```
   使用刚才创建的账号登录

### 方法2：使用SQL初始化（需要数据库操作）

1. **打开MySQL客户端**
   ```sql
   mysql -u root -p
   ```

2. **切换到数据库**
   ```sql
   USE employment_db;
   ```

3. **执行SQL创建管理员**
   ```sql
   -- 用户名: admin, 密码: admin123
   INSERT INTO admin (username, password, role) 
   VALUES ('admin', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iAt6Z5E', 'ADMIN');
   ```

4. **验证创建成功**
   ```sql
   SELECT id, username, role FROM admin;
   ```

### 方法3：使用API直接创建

使用PowerShell或命令行：

```powershell
Invoke-WebRequest -Uri "http://localhost:8080/api/admin/register" `
  -Method POST `
  -ContentType "application/json" `
  -Body '{"username":"admin","password":"admin123","role":"ADMIN"}' `
  -UseBasicParsing
```

## 🧪 测试登录

创建成功后，使用以下信息登录：

- **登录页面**: http://localhost:8000/login.html?role=admin
- **用户名**: `admin`
- **密码**: `admin123`

## ⚠️ 常见问题

### 问题1：页面显示"创建失败"
**原因**：后端服务器未启动
**解决**：
```powershell
cd e:\idea-workspace\aiqimozuoye-1\backend
mvn spring-boot:run
```

### 问题2：提示"用户名已存在"
**原因**：管理员账号已经存在
**解决**：直接登录即可，不需要重复创建

### 问题3：登录后立即退出
**原因**：认证检查问题（已修复）
**解决**：刷新页面重新登录

## 📝 默认管理员账号

| 用户名 | 密码 | 角色 |
|--------|------|------|
| admin  | admin123 | 管理员 |

## 🔒 安全提示

⚠️ **生产环境请务必修改默认密码！**

修改密码步骤：
1. 登录管理员后台
2. 进入"个人设置"
3. 修改密码

---

**创建时间**: 2024-12-05
**状态**: ✅ 已测试可用
